/*
 * @author wingbot.ai
 */
'use strict';
{{#if webchatOrMessenger}}
const { Settings } = require('wingbot-facebook');
const { START_ACTION } = require('./actions');{{/if}}
const config = require('../config');

async function botSettings () {
    if (config.isProduction) {
        // runs, when bot is updated
{{#if webchatOrMessenger}}
        const settings = new Settings(config.facebook.pageToken);

        await settings.getStartedButton(START_ACTION);

        // await settings.whitelistDomain([config.appUrl, config.apiUrl]);

        /* eslint-disable indent */
        await settings.menu()
            .addPostBack('Back to start', START_ACTION)
            .done();
{{/if}}
    }
}

module.exports = botSettings;
