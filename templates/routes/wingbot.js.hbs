{{#if wingbot}}
/**
 * @author wingbot.ai
 */
'use strict';

const { handler: send } = require('./send');
const { handler: api, worker } = require('./api');

module.exports.handler = async (ev, context) => {
    const { handler, event } = ev;

    switch (handler) {
        case 'send':
            return send(event, context);
        case 'api':
            return api(event, context);
        case 'worker':
            return worker(event, context);
        default:
            return {
                statusCode: 200,
                headers: {
                    'Content-Type': 'text/plain'
                },
                body: 'noop'
            };
    }

};
{{/if}}